<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" href="../../mystyle.css">
  <title>Leaflet</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script src="https://unpkg.com/leaflet-omnivore@0.3.4/leaflet-omnivore.min.js"></script> 
</head>

<div class="container">
<body>
  <p style="font-style: italic; font-size: 10px;"> Back to <a href="../../ce514.html">Class Page</a></p>
  <hr>
  <h1>HW 6</h1>
  <hr>
  <p>The map below shows my parent's property boundaries in Emmett, ID. The two blue lines show the two canals that run through. The southern irrigation canal is about six feet deep, slow, and safe to swim in. We spent hours jumping off of trees into it.
	  The northern canal is about two feet deep, muddy, and perfect for carp fishing.

  <hr>
  <h2>Map with KML</h2>
  <hr>

  <div class="code-container">
		<code></code>


  <div id="map" style="height:600px; width:98%; margin: 10px 10px;"></div>

<hr>
<h2>Code</h2>
<hr>
	  
<code>  &nbsp //Here is the code I used to attach the KML files <br>
 &nbsp  &nbsp //In the Head, I scripted omnivore for KML conversion <br>
 &nbsp  &nbsp  &nbsp <script src="https://unpkg.com/leaflet-omnivore@0.3.4/leaflet-omnivore.min.js"></script> <br>

	
     &nbsp  &nbsp //In Script I placed KML Files in a list<br>
     &nbsp  &nbsp  &nbsp const KMLlist = [<br>
      &nbsp  &nbsp  &nbsp  &nbsp  "Canal1.kml",<br>
       &nbsp  &nbsp  &nbsp  &nbsp "canal2.kml",<br>
       &nbsp  &nbsp  &nbsp  &nbsp "prop.kml",<br>
     &nbsp  &nbsp  &nbsp ];<br>

     &nbsp  &nbsp // Added KML files to the map<br>
 &nbsp  &nbsp  &nbsp KMLlist.forEach((url) => {<br>
  &nbsp  &nbsp  &nbsp  &nbsp  omnivore.kml(url)<br>
     &nbsp  &nbsp  &nbsp  &nbsp  &nbsp .on('ready', function () {<br>
       &nbsp  &nbsp  &nbsp  &nbsp  &nbsp  &nbsp console.log("Successfully loaded:", url);<br>
       &nbsp  &nbsp  &nbsp  &nbsp  &nbsp this.addTo(map);<br>
     &nbsp  &nbsp  &nbsp  &nbsp })<br>
     &nbsp  &nbsp  &nbsp .on('error', function () {<br>
       &nbsp  &nbsp  &nbsp  &nbsp console.error("Error loading KML file:", url);<br>
     &nbsp  &nbsp  &nbsp });<br>
   &nbsp  &nbsp })<br>


</code>
	  
  <script>
    // Create Map
  const map = L.map('map').setView([43.833, -116.55669], 16);
  L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', {
      attribution: 'Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community'
  }).addTo(map);

  
    // KML Files in a list
    const KMLlist = [
      "Canal1.kml",
      "canal2.kml",
      "prop.kml",
    ];

    // Add KML files to the map

KMLlist.forEach((url) => {
  omnivore.kml(url)
    .on('ready', function () {
      console.log("Successfully loaded:", url);
      this.addTo(map);
    })
    .on('error', function () {
      console.error("Error loading KML file:", url);
    });
  })

  </script>
  



</body>
</html>
